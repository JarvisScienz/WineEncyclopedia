"use strict";(self.webpackChunkwine_encyclopedia_frontend=self.webpackChunkwine_encyclopedia_frontend||[]).push([[338],{338:(ee,d,r)=>{r.r(d),r.d(d,{AdminLayoutModule:()=>$});var u=r(9808),f=r(520),c=r(5300),n=r(4182),m=r(1605),U=r(3489),q=r(6014);class S{constructor(s,t){this.dueTime=s,this.scheduler=t}call(s,t){return t.subscribe(new N(s,this.dueTime,this.scheduler))}}class N extends U.L{constructor(s,t,o){super(s),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(s){this.clearDebounce(),this.lastValue=s,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:s}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(s)}}clearDebounce(){const s=this.debouncedSubscription;null!==s&&(this.remove(s),s.unsubscribe(),this.debouncedSubscription=null)}}function w(i){i.debouncedNext()}var F=r(5778),I=r(4850),Z=r(7625),z=r(5529);class v{constructor(){this.user="",this.id="",this.color="",this.chromaticDensity="",this.clarity="",this.consistency="",this.olfactoryIntensity="",this.complexity="",this.olfactoryQuality="",this.dominantAroma="",this.olfactoryDescription="",this.sweetness="",this.alcoholPerception="",this.polyalcohols="",this.acidity="",this.tanninQuantity="",this.tanninQuality="",this.mineralSubstances="",this.balance="",this.intensity="",this.persistence="",this.quality="",this.body="",this.evolutionStage="",this.harmony="",this.typicity="",this.foodPairing="",this.wineName="",this.winery="",this.wineType="",this.grapeVariety="",this.vintage="",this.alcoholContent="",this.servingTemperature="",this.price="",this.score="",this.effervescenceBubbleGrain="",this.effervescenceBubbleNumber="",this.effervescenceBubblePersistence=""}}var e=r(2096),T=r(4383);function x(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span"),e._uU(4," This is a notification with close button. "),e.qZA()()}2&i&&e.Q6J("type","info")("dismissible",!1)}function P(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",19)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed1=!0}),e._UZ(2,"i",18),e.qZA(),e._UZ(3,"span",20),e.TgZ(4,"span",21),e._uU(5," This is a notification with close button and icon. "),e.qZA()()}2&i&&e.Q6J("type","info")("dismissible",!1)}function Q(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",19)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed2=!0}),e._UZ(2,"i",18),e.qZA(),e._UZ(3,"span",20),e.TgZ(4,"span",21),e._uU(5," This is a notification with close button and icon and have many lines. You can see that the icon and the close button are always vertically aligned. This is a beautiful notification. So you don't have to worry about the style. "),e.qZA()()}2&i&&e.Q6J("type","info")("dismissible",!1)}function k(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed3=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5," Primary - "),e.qZA(),e._uU(6,' This is a regular notification made with ".alert-primary" '),e.qZA()()}2&i&&e.Q6J("type","primary")("dismissible",!1)}function W(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed4=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5," Info - "),e.qZA(),e._uU(6,' This is a regular notification made with ".alert-info" '),e.qZA()()}2&i&&e.Q6J("type","info")("dismissible",!1)}function J(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed5=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5," Success - "),e.qZA(),e._uU(6,' This is a regular notification made with ".alert-success" '),e.qZA()()}2&i&&e.Q6J("type","success")("dismissible",!1)}function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed6=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5," Warning - "),e.qZA(),e._uU(6,' This is a regular notification made with ".alert-warning" '),e.qZA()()}2&i&&e.Q6J("type","warning")("dismissible",!1)}function B(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",7)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().staticAlertClosed7=!0}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5," Danger - "),e.qZA(),e._uU(6,' This is a regular notification made with ".alert-danger" '),e.qZA()()}2&i&&e.Q6J("type","danger")("dismissible",!1)}let D=(()=>{class i{constructor(t){this.toastr=t,this.staticAlertClosed=!1,this.staticAlertClosed1=!1,this.staticAlertClosed2=!1,this.staticAlertClosed3=!1,this.staticAlertClosed4=!1,this.staticAlertClosed5=!1,this.staticAlertClosed6=!1,this.staticAlertClosed7=!1}successNotification(t){this.toastr.success('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> '+t,"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"})}errorNotification(t){this.toastr.error('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> '+t,"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert toast-error alert-with-icon",positionClass:"toast-top-right"})}showNotification(t,o){switch(Math.floor(5*Math.random()+1)){case 1:this.toastr.info('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.',"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert alert-info alert-with-icon",positionClass:"toast-"+t+"-"+o});break;case 2:this.toastr.success('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.',"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-"+t+"-"+o});break;case 3:this.toastr.warning('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.',"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert alert-warning alert-with-icon",positionClass:"toast-"+t+"-"+o});break;case 4:this.toastr.error('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.',"",{disableTimeOut:!0,enableHtml:!0,closeButton:!0,toastClass:"alert alert-danger alert-with-icon",positionClass:"toast-"+t+"-"+o});break;case 5:this.toastr.show('<span class="tim-icons icon-bell-55" [data-notify]="icon"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.',"",{disableTimeOut:!0,closeButton:!0,enableHtml:!0,toastClass:"alert alert-primary alert-with-icon",positionClass:"toast-"+t+"-"+o})}}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notifications"]],decls:59,vars:10,consts:[[1,"content"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"type","dismissible"],[3,"type","dismissible",4,"ngIf"],["class"," alert-with-icon","data-notify","container",3,"type","dismissible",4,"ngIf"],[1,"col-md-12"],[1,"places-buttons"],[1,"col-md-6","ml-auto","mr-auto","text-center"],[1,"category"],[1,"col-lg-8","ml-auto","mr-auto"],[1,"col-md-4"],[1,"btn","btn-danger","btn-block",3,"click"],["type","button","aria-hidden","true","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],[1,"tim-icons","icon-simple-remove"],["data-notify","container",1,"alert-with-icon",3,"type","dismissible"],["data-notify","icon",1,"tim-icons","icon-bell-55"],["data-notify","message"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Notifications Style"),e.qZA()(),e.TgZ(7,"div",6)(8,"ngb-alert",7)(9,"span"),e._uU(10," This is a plain notification "),e.qZA()(),e.YNc(11,x,5,2,"ngb-alert",8),e.YNc(12,P,6,2,"ngb-alert",9),e.YNc(13,Q,6,2,"ngb-alert",9),e.qZA()()(),e.TgZ(14,"div",2)(15,"div",3)(16,"div",4)(17,"h4",5),e._uU(18,"Notification states"),e.qZA()(),e.TgZ(19,"div",6),e.YNc(20,k,7,2,"ngb-alert",8),e.YNc(21,W,7,2,"ngb-alert",8),e.YNc(22,J,7,2,"ngb-alert",8),e.YNc(23,M,7,2,"ngb-alert",8),e.YNc(24,B,7,2,"ngb-alert",8),e.qZA()()(),e.TgZ(25,"div",10)(26,"div",3)(27,"div",6)(28,"div",11)(29,"div",1)(30,"div",12)(31,"h4",5),e._uU(32,"Notifications Places"),e.qZA(),e.TgZ(33,"p",13),e._uU(34,"Click to view notifications"),e.qZA()()(),e.TgZ(35,"div",1)(36,"div",14)(37,"div",1)(38,"div",15)(39,"button",16),e.NdJ("click",function(){return o.showNotification("top","left")}),e._uU(40," Top Left "),e.qZA()(),e.TgZ(41,"div",15)(42,"button",16),e.NdJ("click",function(){return o.showNotification("top","center")}),e._uU(43," Top Center "),e.qZA()(),e.TgZ(44,"div",15)(45,"button",16),e.NdJ("click",function(){return o.showNotification("top","right")}),e._uU(46," Top Right "),e.qZA()()()()(),e.TgZ(47,"div",1)(48,"div",14)(49,"div",1)(50,"div",15)(51,"button",16),e.NdJ("click",function(){return o.showNotification("bottom","left")}),e._uU(52," Bottom Left "),e.qZA()(),e.TgZ(53,"div",15)(54,"button",16),e.NdJ("click",function(){return o.showNotification("bottom","center")}),e._uU(55," Bottom Center "),e.qZA()(),e.TgZ(56,"div",15)(57,"button",16),e.NdJ("click",function(){return o.showNotification("bottom","right")}),e._uU(58," Bottom Right "),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(8),e.Q6J("type","info")("dismissible",!1),e.xp6(3),e.Q6J("ngIf",!o.staticAlertClosed),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed1),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed2),e.xp6(7),e.Q6J("ngIf",!o.staticAlertClosed3),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed4),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed5),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed6),e.xp6(1),e.Q6J("ngIf",!o.staticAlertClosed7))},directives:[m.xm,u.O5],encapsulation:2}),i})();var _=r(900),p=r(9865);const L=["input"];let G=(()=>{class i{constructor(t,o,a,l,g){this.appService=t,this.route=o,this.router=a,this.toastr=l,this.cookiesService=g,this.wineTastingSheet=new v,this.destroy$=new z.xQ,this.grapes=[],this.buttonLabel="Invia",this.selectedItems=[],this.userUid="",this.tastingSheetForm=new n.cw({id:new n.NI(""),user:new n.NI(""),wineName:new n.NI("",n.kI.required),winery:new n.NI("",n.kI.required),wineType:new n.NI(""),vintage:new n.NI(""),grapeVariety:new n.NI(""),alcoholContent:new n.NI(""),servingTemperature:new n.NI(""),price:new n.NI(""),score:new n.NI(""),color:new n.NI(""),colorDensity:new n.NI(""),limpidity:new n.NI(""),consistency:new n.NI(""),effervescenceBubbleGrain:new n.NI(""),effervescenceBubbleNumber:new n.NI(""),effervescenceBubblePersistence:new n.NI(""),olfactoryIntensity:new n.NI(""),olfactoryComplexity:new n.NI(""),olfactoryQuality:new n.NI(""),olfactorySense:new n.NI(""),olfactoryDescription:new n.NI(""),sugars:new n.NI(""),alcohols:new n.NI(""),polyalcohols:new n.NI(""),acids:new n.NI(""),tanninsQuantity:new n.NI(""),tanninsQuality:new n.NI(""),mineralSubstances:new n.NI(""),equilibrium:new n.NI(""),tasteIntensity:new n.NI(""),tastePersistence:new n.NI(""),tasteQuality:new n.NI(""),bodyWine:new n.NI(""),evolutionaryState:new n.NI(""),harmony:new n.NI(""),typicality:new n.NI(""),foodPairings:new n.NI("")}),this.formatter=h=>h.toUpperCase(),this.search=h=>h.pipe(function C(i,s=q.P){return t=>t.lift(new S(i,s))}(200),(0,F.x)(),(0,I.U)(X=>{const A=X.split(","),y=A[A.length-1].trim();return""===y?[]:this.grapes.filter(K=>K.toLowerCase().indexOf(y.toLowerCase())>-1).slice(0,10)})),this.userUid=JSON.parse(this.cookiesService.getCookieUser()).userData.uid,this.notificationService=new D(this.toastr),this.wine=this.route.snapshot.queryParams,0!==Object.keys(this.wine).length&&(this.setFormWineInformation(this.wine),this.buttonLabel="Modifica")}ngOnInit(){this.getAllGrapes()}selected(t){t.preventDefault(),this.selectedItems.push(t.item);var o=this.tastingSheetForm.value.grapeVariety.split(","),a="";1===o.length?a=t.item:(o[o.length-1]=t.item,a=o.toString().replace(",",", ")),this.tastingSheetForm.patchValue({grapeVariety:a})}getAllGrapes(){this.appService.getGrapesName().subscribe(t=>{this.grapes=null==t?[]:t})}submitForm(){0!==Object.keys(this.wine).length?this.updateTastingSheet():this.saveTastingSheet()}saveTastingSheet(){this.setWineInformation(),this.appService.addWine(this.wineTastingSheet).pipe((0,Z.R)(this.destroy$)).subscribe(t=>{console.log("message::::",t),this.notificationService.successNotification("Vino salvato!"),this.tastingSheetForm.reset(),this.router.navigate(["/wine-tasted"])}),console.log(this.wineTastingSheet)}updateTastingSheet(){this.setWineInformation(),this.appService.editWine(this.tastingSheetForm.value).pipe((0,Z.R)(this.destroy$)).subscribe(t=>{console.log("message::::",t),this.tastingSheetForm.reset()})}setFormWineInformation(t){this.tastingSheetForm.patchValue({user:this.userUid,id:t.id,wineName:t.wineName,winery:t.winery,wineType:t.wineType,vintage:t.vintage,grapeVariety:t.grapeVariety,alcoholContent:t.alcoholContent,servingTemperature:t.servingTemperature,price:t.price,score:t.score,color:t.color,colorDensity:t.colorDensity,limpidity:t.limpidity,consistency:t.consistency,effervescenceBubbleGrain:t.effervescenceBubbleGrain,effervescenceBubbleNumber:t.effervescenceBubbleNumber,effervescenceBubblePersistence:t.effervescenceBubblePersistence,olfactoryIntensity:t.olfactoryIntensity,olfactoryComplexity:t.olfactoryComplexity,olfactoryQuality:t.olfactoryQuality,olfactorySense:t.olfactorySense,olfactoryDescription:t.olfactoryDescription,sugars:t.sugars,alcohols:t.alcohols,polyalcohols:t.polyalcohols,acids:t.acids,tanninsQuantity:t.tanninsQuantity,tanninsQuality:t.tanninsQuality,mineralSubstances:t.mineralSubstances,equilibrium:t.equilibrium,tasteIntensity:t.tasteIntensity,tastePersistence:t.tastePersistence,tasteQuality:t.tasteQuality,evolutionaryState:t.evolutionaryState,harmony:t.harmony,typicality:t.typicality,foodPairings:t.foodPairings})}setWineInformation(){this.wineTastingSheet.user=this.userUid,this.wineTastingSheet.id=this.tastingSheetForm.controls.id.value,this.wineTastingSheet.wineName=this.tastingSheetForm.controls.wineName.value,this.wineTastingSheet.winery=this.tastingSheetForm.controls.winery.value,this.wineTastingSheet.wineType=this.tastingSheetForm.controls.wineType.value,this.wineTastingSheet.grapeVariety=this.tastingSheetForm.controls.grapeVariety.value,this.wineTastingSheet.vintage=this.tastingSheetForm.controls.vintage.value,this.wineTastingSheet.alcoholContent=this.tastingSheetForm.controls.alcoholContent.value,this.wineTastingSheet.servingTemperature=this.tastingSheetForm.controls.servingTemperature.value,this.wineTastingSheet.price=this.tastingSheetForm.controls.price.value,this.wineTastingSheet.dominantAroma=this.tastingSheetForm.controls.score.value,this.wineTastingSheet.color=this.tastingSheetForm.controls.color.value,this.wineTastingSheet.chromaticDensity=this.tastingSheetForm.controls.colorDensity.value,this.wineTastingSheet.clarity=this.tastingSheetForm.controls.limpidity.value,this.wineTastingSheet.consistency=this.tastingSheetForm.controls.consistency.value,this.wineTastingSheet.effervescenceBubbleGrain=this.tastingSheetForm.controls.effervescenceBubbleGrain.value,this.wineTastingSheet.effervescenceBubbleNumber=this.tastingSheetForm.controls.effervescenceBubbleNumber.value,this.wineTastingSheet.effervescenceBubblePersistence=this.tastingSheetForm.controls.effervescenceBubblePersistence.value,this.wineTastingSheet.olfactoryIntensity=this.tastingSheetForm.controls.olfactoryIntensity.value,this.wineTastingSheet.complexity=this.tastingSheetForm.controls.olfactoryComplexity.value,this.wineTastingSheet.olfactoryQuality=this.tastingSheetForm.controls.olfactoryQuality.value,this.wineTastingSheet.dominantAroma=this.tastingSheetForm.controls.olfactorySense.value,this.wineTastingSheet.olfactoryDescription=this.tastingSheetForm.controls.olfactoryDescription.value,this.wineTastingSheet.sweetness=this.tastingSheetForm.controls.sugars.value,this.wineTastingSheet.alcoholPerception=this.tastingSheetForm.controls.alcohols.value,this.wineTastingSheet.polyalcohols=this.tastingSheetForm.controls.polyalcohols.value,this.wineTastingSheet.acidity=this.tastingSheetForm.controls.acids.value,this.wineTastingSheet.tanninQuantity=this.tastingSheetForm.controls.tanninsQuantity.value,this.wineTastingSheet.tanninQuality=this.tastingSheetForm.controls.tanninsQuality.value,this.wineTastingSheet.mineralSubstances=this.tastingSheetForm.controls.mineralSubstances.value,this.wineTastingSheet.balance=this.tastingSheetForm.controls.equilibrium.value,this.wineTastingSheet.intensity=this.tastingSheetForm.controls.tasteIntensity.value,this.wineTastingSheet.persistence=this.tastingSheetForm.controls.tastePersistence.value,this.wineTastingSheet.quality=this.tastingSheetForm.controls.tasteQuality.value,this.wineTastingSheet.body=this.tastingSheetForm.controls.bodyWine.value,this.wineTastingSheet.evolutionStage=this.tastingSheetForm.controls.evolutionaryState.value,this.wineTastingSheet.harmony=this.tastingSheetForm.controls.harmony.value,this.wineTastingSheet.typicity=this.tastingSheetForm.controls.typicality.value,this.wineTastingSheet.foodPairing=this.tastingSheetForm.controls.foodPairings.value}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.z),e.Y36(c.gz),e.Y36(c.F0),e.Y36(T._W),e.Y36(p.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tasting-sheet"]],viewQuery:function(t,o){if(1&t&&e.Gf(L,5),2&t){let a;e.iGM(a=e.CRH())&&(o.inputEl=a.first)}},decls:409,vars:4,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-3"],["type","hidden","formControlName","id"],["type","hidden","formControlName","user"],["for","nomeVino"],["type","text","formControlName","wineName","placeholder","Nome vino","id","nomeVino","name","nomeVino",1,"form-control"],["for","azienda"],["type","text","formControlName","winery","placeholder","Azienda","id","azienda","name","azienda",1,"form-control"],["for","tipologia"],["type","text","formControlName","wineType","placeholder","Tipologia","id","tipologia","name","tipologia",1,"form-control"],["type","text","formControlName","vintage","placeholder","Annata","id","annata","name","annata",1,"form-control"],["for","uve"],["type","text","formControlName","grapeVariety","placeholder","Uve","id","uve","name","uve",1,"form-control",3,"ngbTypeahead","resultFormatter","selectItem"],["for","gradazione"],["type","text","formControlName","alcoholContent","placeholder","Gradazione","id","gradazione","name","gradazione",1,"form-control"],["for","temperatura"],["type","text","formControlName","servingTemperature","placeholder","Temperatura","id","temperatura","name","temperatura",1,"form-control"],["for","prezzo"],["type","text","formControlName","price","placeholder","Prezzo","id","prezzo","name","prezzo",1,"form-control"],["for","punteggio"],["type","text","formControlName","score","placeholder","Punteggio","id","punteggio","name","punteggio",1,"form-control"],["for","colore"],["formControlName","color","id","colore","name","colore",1,"form-control"],["value","yellow_greenish"],["value","yellow_straw"],["value","yellow_golden"],["value","yellow_amber"],["value","rose_soft"],["value","rose_coppery"],["value","rose_cherry"],["value","rose_claret"],["value","red_purplish"],["value","red_ruby"],["value","red_garnet"],["value","red_orange"],["for","densitaCromatica"],["formControlName","colorDensity","id","densitaCromatica","name","densitaCromatica",1,"form-control"],["value","Trasparente"],["value","Sufficientemente trasparente"],["value","Poco trasparente"],["value","Compatto"],["for","limpidezza"],["formControlName","limpidity","id","limpidezza","name","limpidezza",1,"form-control"],["value","Velato"],["value","Sufficientemente velato"],["value","Limpido"],["value","Brillante"],["for","consistenza"],["formControlName","consistency","id","consistenza","name","consistenza",1,"form-control"],["value","Poco consistente"],["value","Consistente"],["value","Denso"],["value","Viscoso"],["for","limpidezzaEffervescenza"],["for","granaBollicine"],["formControlName","effervescenceBubbleGrain","id","granaBollicine","name","granaBollicine",1,"form-control"],["value","Fini"],["value","Grossolane"],["for","numeroBollicine"],["formControlName","effervescenceBubbleNumber","id","numeroBollicine","name","numeroBollicine",1,"form-control"],["value","Numerose"],["value","Scarse"],["for","persistenza"],["formControlName","effervescenceBubblePersistence","id","effervescenceBubblePersistence","name","persistenza",1,"form-control"],["value","Persistenti"],["value","Evanescenti"],["for","intensita"],["formControlName","olfactoryIntensity","id","intensita","name","intensita",1,"form-control"],["value","poco intenso"],["value","sufficientemente intenso"],["value","intenso"],["value","molto intenso"],["for","complessita"],["formControlName","olfactoryComplexity","id","complessita","name","complessita",1,"form-control"],["value","poco complesso"],["value","sufficientemente complesso"],["value","complesso"],["value","ampio"],["for","qualita"],["formControlName","olfactoryQuality","id","qualita","name","qualita",1,"form-control"],["value","poco fine"],["value","sufficientemente fine"],["value","fine"],["value","eccellente"],["for","sentoreDominante"],["formControlName","olfactorySense","id","sentoreDominante","name","sentoreDominante",1,"form-control"],["value","aromatico"],["value","vinoso"],["value","floreale"],["value","fruttato"],["value","fragrante"],["value","vegetale"],["value","balsamico"],["value","minerale"],["value","etereo"],["value","speziato"],["value","frutta secca"],["value","frutta disidratata"],["value","tostato"],["value","animale"],["value","selvatico"],["for","descrizione"],["id","descrizione","name","descrizione","formControlName","olfactoryDescription","placeholder","Descrizione",1,"form-control"],["for","zuccheri"],["formControlName","sugars","id","zuccheri","name","zuccheri",1,"form-control"],["value","secco"],["value","amabile"],["value","dolce"],["value","stucchevole"],["for","alcoli"],["formControlName","alcohols","id","alcoli","name","alcoli",1,"form-control"],["value","poco caldo"],["value","moderatamente caldo"],["value","caldo"],["value","molto caldo"],["for","polialcoli"],["formControlName","polyalcohols","id","polialcoli","name","polialcoli",1,"form-control"],["value","poco morbido"],["value","moderatamente morbido"],["value","morbido"],["value","rotondo"],["for","acidi"],["formControlName","acids","id","acidi","name","acidi",1,"form-control"],["value","poco fresco"],["value","moderatamente fresco"],["value","fresco"],["value","molto fresco"],["for","tanninoQuantita"],["formControlName","tanninsQuantity","id","tanninoQuantita","name","tanninoQuantita",1,"form-control"],["value","poco tannico"],["value","moderatamente tannico"],["value","tannico"],["value","molto tannico"],["for","tanninoQualita"],["formControlName","tanninsQuality","id","tanninoQualita","name","tanninoQualita",1,"form-control"],["value","grossolano"],["value","duro"],["value","vellutato"],["value","nobile"],["for","sostanzeMinerali"],["formControlName","mineralSubstances","id","sostanzeMinerali","name","sostanzeMinerali",1,"form-control"],["value","poco sapido"],["value","moderatamente sapido"],["value","sapido"],["value","salato"],["for","equilibrio"],["formControlName","equilibrium","id","equilibrio","name","equilibrio",1,"form-control"],["value","sbilanciato"],["value","poco equilibrato"],["value","sufficientemente equilibrato"],["value","equilibrato"],["formControlName","tasteIntensity","id","intensita","name","intensita",1,"form-control"],["formControlName","tastePersistence","id","persistenza","name","persistenza",1,"form-control"],["value","poco persistente"],["value","sufficientemente persistente"],["value","persistente"],["value","molto persistente"],["formControlName","tasteQuality","id","qualita","name","qualita",1,"form-control"],["for","corpo"],["formControlName","bodyWine","id","corpo","name","corpo",1,"form-control"],["value","leggero"],["value","medio"],["value","pieno"],["value","pesante"],["for","statoEvolutivo"],["formControlName","evolutionaryState","id","statoEvolutivo","name","statoEvolutivo",1,"form-control"],["value","giovane"],["value","pronto"],["value","maturo"],["value","vecchio"],["for","armonia"],["formControlName","harmony","id","armonia","name","armonia",1,"form-control"],["value","disarmonico"],["value","poco armonico"],["value","sufficientemente armonico"],["value","armonico"],["for","tipicita"],["formControlName","typicality","id","tipicita","name","tipicita",1,"form-control"],["value","poco tipico"],["value","sufficientemente tipico"],["value","tipico"],["value","esemplare"],["for","abbinamenti"],["id","abbinamenti","name","abbinamenti","formControlName","foodPairings","placeholder","Abbinamenti",1,"form-control"],["type","submit"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(1,"h2"),e._uU(2,"Informazioni sul vino"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2),e._UZ(5,"input",3)(6,"input",4),e.TgZ(7,"label",5),e._uU(8,"Nome del vino:"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"div",2)(11,"label",7),e._uU(12,"Azienda:"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",2)(15,"label",9),e._uU(16,"Tipologia:"),e.qZA(),e._UZ(17,"input",10),e.qZA(),e.TgZ(18,"div",2)(19,"label",9),e._uU(20,"Annata"),e.qZA(),e._UZ(21,"input",11),e.qZA(),e.TgZ(22,"div",2)(23,"label",12),e._uU(24,"Uve:"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("selectItem",function(l){return o.selected(l)}),e.qZA()(),e.TgZ(26,"div",2)(27,"label",14),e._uU(28,"Gradazione:"),e.qZA(),e._UZ(29,"input",15),e.qZA(),e.TgZ(30,"div",2)(31,"label",16),e._uU(32,"Temperatura:"),e.qZA(),e._UZ(33,"input",17),e.qZA(),e.TgZ(34,"div",2)(35,"label",18),e._uU(36,"Prezzo:"),e.qZA(),e._UZ(37,"input",19),e.qZA(),e.TgZ(38,"div",2)(39,"label",20),e._uU(40,"Punteggio:"),e.qZA(),e._UZ(41,"input",21),e.qZA()(),e.TgZ(42,"h2"),e._uU(43,"Analisi visiva"),e.qZA(),e.TgZ(44,"div",1)(45,"div",2)(46,"label",22),e._uU(47,"Colore:"),e.qZA(),e.TgZ(48,"select",23)(49,"option",24),e._uU(50,"Giallo verdolino"),e.qZA(),e.TgZ(51,"option",25),e._uU(52,"Giallo paglierino"),e.qZA(),e.TgZ(53,"option",26),e._uU(54,"Giallo dorato"),e.qZA(),e.TgZ(55,"option",27),e._uU(56,"Giallo ambrato/aranciato"),e.qZA(),e.TgZ(57,"option",28),e._uU(58,"Rosa tenue"),e.qZA(),e.TgZ(59,"option",29),e._uU(60,"Rosa ramato"),e.qZA(),e.TgZ(61,"option",30),e._uU(62,"Rosa cerasuolo"),e.qZA(),e.TgZ(63,"option",31),e._uU(64,"Rosa chiaretto"),e.qZA(),e.TgZ(65,"option",32),e._uU(66,"Rosso porpora/violaceo"),e.qZA(),e.TgZ(67,"option",33),e._uU(68,"Rosso rubino"),e.qZA(),e.TgZ(69,"option",34),e._uU(70,"Rosso granato"),e.qZA(),e.TgZ(71,"option",35),e._uU(72,"Rosso aranciato"),e.qZA()()(),e.TgZ(73,"div",2)(74,"label",36),e._uU(75,"Densit\ufffd cromatica:"),e.qZA(),e.TgZ(76,"select",37)(77,"option",38),e._uU(78,"Trasparente"),e.qZA(),e.TgZ(79,"option",39),e._uU(80,"Sufficientemente trasparente"),e.qZA(),e.TgZ(81,"option",40),e._uU(82,"Poco trasparente"),e.qZA(),e.TgZ(83,"option",41),e._uU(84,"Compatto"),e.qZA()()(),e.TgZ(85,"div",2)(86,"label",42),e._uU(87,"Limpidezza:"),e.qZA(),e.TgZ(88,"select",43)(89,"option",44),e._uU(90,"Velato"),e.qZA(),e.TgZ(91,"option",45),e._uU(92,"Sufficientemente velato"),e.qZA(),e.TgZ(93,"option",46),e._uU(94,"Limpido"),e.qZA(),e.TgZ(95,"option",47),e._uU(96,"Brillante"),e.qZA()()(),e.TgZ(97,"div",2)(98,"label",48),e._uU(99,"Consistenza:"),e.qZA(),e.TgZ(100,"select",49)(101,"option",50),e._uU(102,"Poco consistente"),e.qZA(),e.TgZ(103,"option",51),e._uU(104,"Consistente"),e.qZA(),e.TgZ(105,"option",52),e._uU(106,"Denso"),e.qZA(),e.TgZ(107,"option",53),e._uU(108,"Viscoso"),e.qZA()()(),e.TgZ(109,"div",2)(110,"label",54),e._uU(111,"Effervescenza:"),e.qZA()(),e.TgZ(112,"div",2)(113,"label",55),e._uU(114,"Grana della bollicine:"),e.qZA(),e.TgZ(115,"select",56)(116,"option",57),e._uU(117,"Fini"),e.qZA(),e.TgZ(118,"option",58),e._uU(119,"Grossolane"),e.qZA()()(),e.TgZ(120,"div",2)(121,"label",59),e._uU(122,"Numero bollicine:"),e.qZA(),e.TgZ(123,"select",60)(124,"option",61),e._uU(125,"Numerose"),e.qZA(),e.TgZ(126,"option",62),e._uU(127,"Scarse"),e.qZA()()(),e.TgZ(128,"div",2)(129,"label",63),e._uU(130,"Persistenza:"),e.qZA(),e.TgZ(131,"select",64)(132,"option",65),e._uU(133,"Persistenti"),e.qZA(),e.TgZ(134,"option",66),e._uU(135,"Evanescenti"),e.qZA()()()(),e.TgZ(136,"h2"),e._uU(137,"Analisi olfattiva"),e.qZA(),e.TgZ(138,"div",1)(139,"div",2)(140,"label",67),e._uU(141,"Intensit\ufffd:"),e.qZA(),e.TgZ(142,"select",68)(143,"option",69),e._uU(144,"Poco intenso"),e.qZA(),e.TgZ(145,"option",70),e._uU(146,"Sufficientemente intenso"),e.qZA(),e.TgZ(147,"option",71),e._uU(148,"Intenso"),e.qZA(),e.TgZ(149,"option",72),e._uU(150,"Molto intenso"),e.qZA()()(),e.TgZ(151,"div",2)(152,"label",73),e._uU(153,"Complessit\ufffd:"),e.qZA(),e.TgZ(154,"select",74)(155,"option",75),e._uU(156,"Poco complesso"),e.qZA(),e.TgZ(157,"option",76),e._uU(158,"Sufficientemente complesso"),e.qZA(),e.TgZ(159,"option",77),e._uU(160,"Complesso"),e.qZA(),e.TgZ(161,"option",78),e._uU(162,"Ampio"),e.qZA()()(),e.TgZ(163,"div",2)(164,"label",79),e._uU(165,"Qualit\ufffd:"),e.qZA(),e.TgZ(166,"select",80)(167,"option",81),e._uU(168,"Poco fine"),e.qZA(),e.TgZ(169,"option",82),e._uU(170,"Sufficientemente fine"),e.qZA(),e.TgZ(171,"option",83),e._uU(172,"Fine"),e.qZA(),e.TgZ(173,"option",84),e._uU(174,"Eccellente"),e.qZA()()(),e.TgZ(175,"div",2)(176,"label",85),e._uU(177,"Sentore olfattivo dominante:"),e.qZA(),e.TgZ(178,"select",86)(179,"option",87),e._uU(180,"Aromatico"),e.qZA(),e.TgZ(181,"option",88),e._uU(182,"Vinoso"),e.qZA(),e.TgZ(183,"option",89),e._uU(184,"Floreale"),e.qZA(),e.TgZ(185,"option",90),e._uU(186,"Fruttato"),e.qZA(),e.TgZ(187,"option",91),e._uU(188,"Fragrante"),e.qZA(),e.TgZ(189,"option",92),e._uU(190,"Vegetale"),e.qZA(),e.TgZ(191,"option",93),e._uU(192,"Balsamico"),e.qZA(),e.TgZ(193,"option",94),e._uU(194,"Minerale"),e.qZA(),e.TgZ(195,"option",95),e._uU(196,"Etereo"),e.qZA(),e.TgZ(197,"option",96),e._uU(198,"Speziato"),e.qZA(),e.TgZ(199,"option",97),e._uU(200,"Frutta secca"),e.qZA(),e.TgZ(201,"option",98),e._uU(202,"Frutta disidratata"),e.qZA(),e.TgZ(203,"option",99),e._uU(204,"Tostato"),e.qZA(),e.TgZ(205,"option",100),e._uU(206,"Animale"),e.qZA(),e.TgZ(207,"option",101),e._uU(208,"Selvatico"),e.qZA()()(),e.TgZ(209,"div",2)(210,"label",102),e._uU(211,"Descrizione:"),e.qZA(),e._UZ(212,"textarea",103),e.qZA()(),e.TgZ(213,"h2"),e._uU(214,"Analisi gusto-olfattiva"),e.qZA(),e.TgZ(215,"div",1)(216,"h3"),e._uU(217,"Morbidezze"),e.qZA(),e.TgZ(218,"div",2)(219,"label",104),e._uU(220,"Zuccheri:"),e.qZA(),e.TgZ(221,"select",105)(222,"option",106),e._uU(223,"Secco"),e.qZA(),e.TgZ(224,"option",107),e._uU(225,"Amabile"),e.qZA(),e.TgZ(226,"option",108),e._uU(227,"Dolce"),e.qZA(),e.TgZ(228,"option",109),e._uU(229,"Stucchevole"),e.qZA()()(),e.TgZ(230,"div",2)(231,"label",110),e._uU(232,"Alcoli:"),e.qZA(),e.TgZ(233,"select",111)(234,"option",112),e._uU(235,"Poco caldo"),e.qZA(),e.TgZ(236,"option",113),e._uU(237,"Moderatamente caldo"),e.qZA(),e.TgZ(238,"option",114),e._uU(239,"Caldo"),e.qZA(),e.TgZ(240,"option",115),e._uU(241,"Molto caldo"),e.qZA()()(),e.TgZ(242,"div",2)(243,"label",116),e._uU(244,"Polialcoli:"),e.qZA(),e.TgZ(245,"select",117)(246,"option",118),e._uU(247,"Poco morbido"),e.qZA(),e.TgZ(248,"option",119),e._uU(249,"Moderatamente morbido"),e.qZA(),e.TgZ(250,"option",120),e._uU(251,"Morbido"),e.qZA(),e.TgZ(252,"option",121),e._uU(253,"Rotondo"),e.qZA()()(),e.TgZ(254,"h3"),e._uU(255,"Durezze"),e.qZA(),e.TgZ(256,"div",2)(257,"label",122),e._uU(258,"Acidi:"),e.qZA(),e.TgZ(259,"select",123)(260,"option",124),e._uU(261,"Poco fresco"),e.qZA(),e.TgZ(262,"option",125),e._uU(263,"Moderatamente fresco"),e.qZA(),e.TgZ(264,"option",126),e._uU(265,"Fresco"),e.qZA(),e.TgZ(266,"option",127),e._uU(267,"Molto fresco"),e.qZA()()(),e.TgZ(268,"div",2)(269,"label",128),e._uU(270,"Tannino (Quantit\ufffd):"),e.qZA(),e.TgZ(271,"select",129)(272,"option",130),e._uU(273,"Poco tannico"),e.qZA(),e.TgZ(274,"option",131),e._uU(275,"Moderatamente tannico"),e.qZA(),e.TgZ(276,"option",132),e._uU(277,"Tannico"),e.qZA(),e.TgZ(278,"option",133),e._uU(279,"Molto tannico"),e.qZA()()(),e.TgZ(280,"div",2)(281,"label",134),e._uU(282,"Tannino (Qualit\ufffd):"),e.qZA(),e.TgZ(283,"select",135)(284,"option",136),e._uU(285,"Grossolano"),e.qZA(),e.TgZ(286,"option",137),e._uU(287,"Duro"),e.qZA(),e.TgZ(288,"option",138),e._uU(289,"Vellutato"),e.qZA(),e.TgZ(290,"option",139),e._uU(291,"Nobile"),e.qZA()()(),e.TgZ(292,"div",2)(293,"label",140),e._uU(294,"Sostanze minerali:"),e.qZA(),e.TgZ(295,"select",141)(296,"option",142),e._uU(297,"Poco sapido"),e.qZA(),e.TgZ(298,"option",143),e._uU(299,"Moderatamente sapido"),e.qZA(),e.TgZ(300,"option",144),e._uU(301,"Sapido"),e.qZA(),e.TgZ(302,"option",145),e._uU(303,"Salato"),e.qZA()()(),e.TgZ(304,"div",2)(305,"label",146),e._uU(306,"Equilibrio:"),e.qZA(),e.TgZ(307,"select",147)(308,"option",148),e._uU(309,"Sbilanciato"),e.qZA(),e.TgZ(310,"option",149),e._uU(311,"Poco equilibrato"),e.qZA(),e.TgZ(312,"option",150),e._uU(313,"Sufficientemente equilibrato"),e.qZA(),e.TgZ(314,"option",151),e._uU(315,"Equilibrato"),e.qZA()()(),e.TgZ(316,"div",2)(317,"label",67),e._uU(318,"Intensit\ufffd:"),e.qZA(),e.TgZ(319,"select",152)(320,"option",69),e._uU(321,"Poco intenso"),e.qZA(),e.TgZ(322,"option",70),e._uU(323,"Sufficientemente intenso"),e.qZA(),e.TgZ(324,"option",71),e._uU(325,"Intenso"),e.qZA(),e.TgZ(326,"option",72),e._uU(327,"Molto intenso"),e.qZA()()(),e.TgZ(328,"div",2)(329,"label",63),e._uU(330,"Persistenza:"),e.qZA(),e.TgZ(331,"select",153)(332,"option",154),e._uU(333,"Poco persistente"),e.qZA(),e.TgZ(334,"option",155),e._uU(335,"Sufficientemente persistente"),e.qZA(),e.TgZ(336,"option",156),e._uU(337,"Persistente"),e.qZA(),e.TgZ(338,"option",157),e._uU(339,"Molto persistente"),e.qZA()()(),e.TgZ(340,"div",2)(341,"label",79),e._uU(342,"Qualit\ufffd:"),e.qZA(),e.TgZ(343,"select",158)(344,"option",81),e._uU(345,"Poco fine"),e.qZA(),e.TgZ(346,"option",82),e._uU(347,"Sufficientemente fine"),e.qZA(),e.TgZ(348,"option",83),e._uU(349,"Fine"),e.qZA(),e.TgZ(350,"option",84),e._uU(351,"Eccellente"),e.qZA()()(),e.TgZ(352,"div",2)(353,"label",159),e._uU(354,"Corpo del vino:"),e.qZA(),e.TgZ(355,"select",160)(356,"option",161),e._uU(357,"Leggero"),e.qZA(),e.TgZ(358,"option",162),e._uU(359,"Medio"),e.qZA(),e.TgZ(360,"option",163),e._uU(361,"Pieno"),e.qZA(),e.TgZ(362,"option",164),e._uU(363,"Pesante"),e.qZA()()()(),e.TgZ(364,"h2"),e._uU(365,"Parte conclusiva"),e.qZA(),e.TgZ(366,"div",1)(367,"div",2)(368,"label",165),e._uU(369,"Stato evolutivo:"),e.qZA(),e.TgZ(370,"select",166)(371,"option",167),e._uU(372,"Giovane"),e.qZA(),e.TgZ(373,"option",168),e._uU(374,"Pronto"),e.qZA(),e.TgZ(375,"option",169),e._uU(376,"Maturo"),e.qZA(),e.TgZ(377,"option",170),e._uU(378,"Vecchio"),e.qZA()()(),e.TgZ(379,"div",2)(380,"label",171),e._uU(381,"Armonia:"),e.qZA(),e.TgZ(382,"select",172)(383,"option",173),e._uU(384,"Disarmonico"),e.qZA(),e.TgZ(385,"option",174),e._uU(386,"Poco armonico"),e.qZA(),e.TgZ(387,"option",175),e._uU(388,"Sufficientemente armonico"),e.qZA(),e.TgZ(389,"option",176),e._uU(390,"Armonico"),e.qZA()()(),e.TgZ(391,"div",2)(392,"label",177),e._uU(393,"Tipicit\ufffd:"),e.qZA(),e.TgZ(394,"select",178)(395,"option",179),e._uU(396,"Poco tipico"),e.qZA(),e.TgZ(397,"option",180),e._uU(398,"Sufficientemente tipico"),e.qZA(),e.TgZ(399,"option",181),e._uU(400,"Tipico"),e.qZA(),e.TgZ(401,"option",182),e._uU(402,"Esemplare"),e.qZA()()(),e.TgZ(403,"div",2)(404,"label",183),e._uU(405,"Abbinamenti:"),e.qZA(),e._UZ(406,"textarea",184),e.qZA()(),e.TgZ(407,"button",185),e._uU(408),e.qZA()()),2&t&&(e.Q6J("formGroup",o.tastingSheetForm),e.xp6(25),e.Q6J("ngbTypeahead",o.search)("resultFormatter",o.formatter),e.xp6(383),e.Oqu(o.buttonLabel))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,m.dR,n.EJ,n.YN,n.Kr],styles:[""]}),i})(),V=(()=>{class i{transform(t,o){return t?o?t.filter(a=>Object.keys(a).some(l=>String(a[l]).toLowerCase().includes(o.toLowerCase()))):t:[]}bookmarkContainsFilterText(t,o){const a=(o=o.toLocaleLowerCase()).split(" ");for(const l of a)if(!1===this.bookmarkContainsFilterTerm(t,l))return!1;return!0}tagsHaveFilterText(t,o){for(const a of t)if(a.includes(o))return!0;return!1}bookmarkContainsFilterTerm(t,o){return t.wineName.toLocaleLowerCase().includes(o)||t.winery.toLocaleLowerCase().includes(o)||t.wineType.toLocaleLowerCase().includes(o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"winesFilter",type:i,pure:!0}),i})();function O(i,s){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function E(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",20),e._uU(2),e._UZ(3,"img",21),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"button",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().updateTastedWine(l)}),e._uU(12,"Modifica"),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.index,a=e.oxw();e.xp6(2),e.hij("",o+1," "),e.xp6(1),e.s9C("src",a.getWineIcon(t),e.LSH),e.xp6(2),e.Oqu(t.wineName),e.xp6(2),e.Oqu(t.winery),e.xp6(2),e.Oqu(t.vintage)}}let Y=(()=>{class i{constructor(t,o,a){this.appService=t,this.router=o,this.cookiesService=a,this.wineTastingSheet=new v,this.wines=[],this.wineryList=[],this.filterText="",this.filterColor="",this.filterWinerySelect="",this.userUid="",this.userUid=JSON.parse(this.cookiesService.getCookieUser()).userData.uid}ngOnInit(){this.getAllWines()}refresh(){this.getAllWines(),this.filterText="",this.filterColor="",this.filterWinerySelect=""}filterColorWine(){this.appService.getWinesByColor(this.filterColor).subscribe(t=>{this.wines=null==t?[]:t})}filterWinery(){this.appService.getWinesByWinery(this.filterWinerySelect).subscribe(t=>{this.wines=null==t?[]:t})}extractWineries(t){this.wineryList=t.map(o=>o.winery)}getAllWines(){this.appService.getWines(this.userUid).subscribe(t=>{this.wines=null==t?[]:t,this.extractWineries(this.wines)})}getWineryList(){this.appService.getWineryList().subscribe(t=>{this.wineryList=null==t?[]:t})}updateTastedWine(t){console.log(t),this.router.navigate(["/tasting-sheet"],{queryParams:t,fragment:"anchor",skipLocationChange:!0})}getWineIcon(t){var a="";switch(t.color.split("_")[0]){case"red":a="../../assets/images/red-wine.png";break;case"yellow":a="../../assets/images/yellow-wine.png";break;case"rose":a="../../assets/images/rose-wine.png"}return a}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.z),e.Y36(c.F0),e.Y36(p.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["wine-tasted"]],decls:46,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-7","mrgnbtm"],[1,"col-md-4","mrgnbtm"],[1,"btn"],[1,"btn","btn-warning",3,"click"],[1,"mrgnbtm"],[1,"col-xl-3"],["type","search","placeholder","Filter...",1,"form-control",3,"ngModel","ngModelChange"],["id","colore","name","colore",1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled","","selected",""],["value","yellow"],["value","rose"],["value","red"],["id","winery","name","winery",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Annata",1,"form-control"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"value"],[2,"width","20%"],[2,"width","15%",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Storico vini"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"button",5),e.NdJ("click",function(){return o.refresh()}),e._uU(8,"Aggiorna"),e.qZA()()()()(),e.TgZ(9,"div",6)(10,"div",0)(11,"div",1)(12,"div",7)(13,"input",8),e.NdJ("ngModelChange",function(l){return o.filterText=l}),e.qZA()(),e.TgZ(14,"div",7)(15,"select",9),e.NdJ("ngModelChange",function(l){return o.filterColor=l})("change",function(){return o.filterColorWine()}),e.TgZ(16,"option",10),e._uU(17,"Seleziona colore"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"Giallo"),e.qZA(),e.TgZ(20,"option",12),e._uU(21,"Rosato"),e.qZA(),e.TgZ(22,"option",13),e._uU(23,"Rosso"),e.qZA()()(),e.TgZ(24,"div",7)(25,"select",14),e.NdJ("ngModelChange",function(l){return o.filterWinerySelect=l})("change",function(){return o.filterWinery()}),e.TgZ(26,"option",10),e._uU(27,"Seleziona produttore"),e.qZA(),e.YNc(28,O,2,2,"option",15),e.qZA()(),e.TgZ(29,"div",7),e._UZ(30,"input",16),e.qZA()(),e.TgZ(31,"table",17)(32,"thead")(33,"tr")(34,"th"),e._uU(35,"Id"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Nome"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Azienda"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Annata"),e.qZA(),e._UZ(42,"th"),e.qZA()(),e.TgZ(43,"tbody"),e.YNc(44,E,13,5,"tr",18),e.ALo(45,"winesFilter"),e.qZA()()()()),2&t&&(e.xp6(13),e.Q6J("ngModel",o.filterText),e.xp6(2),e.Q6J("ngModel",o.filterColor),e.xp6(10),e.Q6J("ngModel",o.filterWinerySelect),e.xp6(3),e.Q6J("ngForOf",o.wineryList),e.xp6(16),e.Q6J("ngForOf",e.xi3(45,5,o.wines,o.filterText)))},directives:[n.Fj,n.JJ,n.On,n.EJ,n.YN,n.Kr,u.sg],pipes:[V],styles:[""]}),i})(),b=(()=>{class i{constructor(t,o){this.router=t,this.cookiesService=o}canActivate(t,o){return!!this.cookiesService.getCookieUser()||(this.router.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.F0),e.LFG(p.F))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const H=[{path:"tasting-sheet",component:G,canActivate:[b]},{path:"wine-tasted",component:Y,canActivate:[b]}];var R=r(7901),j=r(1084);let $=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:f.TP,useClass:j.z,multi:!0},{provide:f.TP,useClass:R.a,multi:!0}],imports:[[u.ez,c.Bz.forChild(H),n.u5,n.UX,m.IJ]]}),i})()}}]);